<div *ngIf="culturalOffer" class="container p-grid">
  <p-card [header]="culturalOffer.name" class="p-col-12">
    <div class="p-grid">
      <div class="p-col-5">
        <p-confirmPopup></p-confirmPopup>
        <button 
          *ngIf="culturalOffer.subscribed === true"
          (click)="confirmUnsubscribe($event)"
          pButton
          label="Unsubscribe"
          icon="pi pi-times"
          class="p-button-warning"></button>
        <button 
          *ngIf="culturalOffer.subscribed === false"
          (click)="confirmSubscribe($event)"
          pButton 
          label="Subscribe"
          icon="pi pi-check"
          class="p-button-primary"></button>

      </div>
      <div class="p-col-7">
        <p-scrollPanel [style]="{width: '100%', height: '200px'}" styleClass="custombar1">
          <p>{{ culturalOffer.description }}</p>
        </p-scrollPanel>
        <p-carousel [value]="culturalOffer.images" class="offer-images">
          <ng-template let-image pTemplate="item">
            <img [src]="image" alt="Cultural offer image">
          </ng-template>
        </p-carousel>
      </div>
    </div>
  </p-card>
  <p-card header="Reviews" class="p-col-5">
    <div *ngIf="reviewPage">
      <app-pagination-bar [hasPrev]="reviewPage.links.prev" [hasNext]="reviewPage.links.next"
        [currentPage]="currentReviewsPage" (navigatePrevEvent)="getPrevReviews()"
        (navigateNextEvent)="getNextReviews()"></app-pagination-bar>
      <app-offer-reviews [reviews]="reviewPage.data"></app-offer-reviews>
      <app-pagination-bar [hasPrev]="reviewPage.links.prev" [hasNext]="reviewPage.links.next"
        [currentPage]="currentReviewsPage" (navigatePrevEvent)="getPrevReviews()"
        (navigateNextEvent)="getNextReviews()"></app-pagination-bar>
    </div>
  </p-card>
  <p-card header="News" class="p-col-7">
    <div *ngIf="newsPage">
      <app-pagination-bar [hasPrev]="newsPage.links.prev" [hasNext]="newsPage.links.next"
        [currentPage]="currentNewsPage" (navigatePrevEvent)="getPrevNews()" (navigateNextEvent)="getNextNews()">
      </app-pagination-bar>
      <app-offer-news [news]="newsPage.data"></app-offer-news>
      <app-pagination-bar [hasPrev]="reviewPage.links.prev" [hasNext]="reviewPage.links.next"
        [currentPage]="currentReviewsPage" (navigatePrevEvent)="getPrevReviews()"
        (navigateNextEvent)="getNextReviews()"></app-pagination-bar>
    </div>
  </p-card>
</div>